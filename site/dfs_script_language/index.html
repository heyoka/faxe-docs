
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dfs_examples/using_mem_node.html">
      
      
        <link rel="next" href="built-in_functions.html">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>Introducing the DFS Script Language - Faxe</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introducing-the-dfs-script-language" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Faxe" class="md-header__button md-logo" aria-label="Faxe" data-md-component="logo">
      
  <img src="../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Faxe
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introducing the DFS Script Language
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Faxe" class="md-nav__button md-logo" aria-label="Faxe" data-md-component="logo">
      
  <img src="../assets/images/favicon.png" alt="logo">

    </a>
    Faxe
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        General
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration.html" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../custom_nodes.html" class="md-nav__link">
        Custom nodes written in python
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../datetime-parsing.html" class="md-nav__link">
        Timestamps and Datetime strings in Faxe
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../flow_concurrency.html" class="md-nav__link">
        Flow concurrency
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../introduction.html" class="md-nav__link">
        Intro
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../metrics.html" class="md-nav__link">
        Metrics, Connection status, Debug events and Logs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../os_tuning.html" class="md-nav__link">
        Os tuning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../state_persistence.html" class="md-nav__link">
        Flow state persistence
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../stop_when_idle.html" class="md-nav__link">
        Auto stop feature
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
      
      
      
        <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          Dfs examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Dfs examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/consume_data_rewrite_republish.html" class="md-nav__link">
        Consume data rewrite republish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/fun_with_http.html" class="md-nav__link">
        Fun with http
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/message_re-modeling.html" class="md-nav__link">
        Message re modeling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/python_double.html" class="md-nav__link">
        Python double
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/read_modbus_publish_mqtt.html" class="md-nav__link">
        Read modbus publish mqtt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dfs_examples/using_mem_node.html" class="md-nav__link">
        Using mem node
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" checked>
      
      
      
        <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
          Dfs script language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Dfs script language
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Introducing the DFS Script Language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        Introducing the DFS Script Language
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dfs-definitions" class="md-nav__link">
    DFS Definitions
  </a>
  
    <nav class="md-nav" aria-label="DFS Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keywords" class="md-nav__link">
    Keywords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaining-operators" class="md-nav__link">
    Chaining operators
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-and-literals" class="md-nav__link">
    Variables and literals
  </a>
  
    <nav class="md-nav" aria-label="Variables and literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-declarations" class="md-nav__link">
    Variable declarations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datatypes" class="md-nav__link">
    Datatypes
  </a>
  
    <nav class="md-nav" aria-label="Datatypes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json-strings" class="md-nav__link">
    Json strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-literals" class="md-nav__link">
    Duration literals
  </a>
  
    <nav class="md-nav" aria-label="Duration literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-templates" class="md-nav__link">
    Text templates
  </a>
  
    <nav class="md-nav" aria-label="Text templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-examples" class="md-nav__link">
    More examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="built-in_functions.html" class="md-nav__link">
        Built in functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="lambda_expressions.html" class="md-nav__link">
        Lambda expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="macros.html" class="md-nav__link">
        Macros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="node_connection.html" class="md-nav__link">
        Node connection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="script_expressions.html" class="md-nav__link">
        Script expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tips_and_best_pratices.html" class="md-nav__link">
        DFS Script Language tips and best pratices
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
      
      
      
        <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
          Nodes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Nodes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/index.html" class="md-nav__link">
        Faxe nodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/aggregate.html" class="md-nav__link">
        Aggregate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/array_explode.html" class="md-nav__link">
        Array explode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/collect.html" class="md-nav__link">
        Collect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/collect_fields.html" class="md-nav__link">
        Collect fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/email.html" class="md-nav__link">
        Email
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/mem.html" class="md-nav__link">
        Mem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/python.html" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/stats.html" class="md-nav__link">
        Stats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/tcp_send.html" class="md-nav__link">
        Tcp send
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/udp_send.html" class="md-nav__link">
        Udp send
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_12" >
      
      
      
        <label class="md-nav__link" for="__nav_13_12" id="__nav_13_12_label" tabindex="0">
          Data collection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_12">
          <span class="md-nav__icon md-icon"></span>
          Data collection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/modbus.html" class="md-nav__link">
        Modbus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/modbus_read.html" class="md-nav__link">
        Modbus read
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/s7read.html" class="md-nav__link">
        S7read
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/tcp_receive.html" class="md-nav__link">
        Tcp receive
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/tcp_receive_line.html" class="md-nav__link">
        Tcp receive line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/data_collection/udp_receive.html" class="md-nav__link">
        Udp receive
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_13" >
      
      
      
        <label class="md-nav__link" for="__nav_13_13" id="__nav_13_13_label" tabindex="0">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_13">
          <span class="md-nav__icon md-icon"></span>
          Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/crate_out.html" class="md-nav__link">
        Crate out
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/crate_query.html" class="md-nav__link">
        Crate query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/crate_query_cont.html" class="md-nav__link">
        Crate query cont
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/http_post_crate.html" class="md-nav__link">
        Http post crate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/influx_out.html" class="md-nav__link">
        Influx out
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/mongo_query.html" class="md-nav__link">
        Mongo query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/oracle_query.html" class="md-nav__link">
        Oracle query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/database/postgre_statement.html" class="md-nav__link">
        Postgre statement
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_14" >
      
      
      
        <label class="md-nav__link" for="__nav_13_14" id="__nav_13_14_label" tabindex="0">
          Debug
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_14">
          <span class="md-nav__icon md-icon"></span>
          Debug
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/conn_status.html" class="md-nav__link">
        Conn status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/debug.html" class="md-nav__link">
        Debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/json_emitter.html" class="md-nav__link">
        Json emitter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/log.html" class="md-nav__link">
        Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/metrics.html" class="md-nav__link">
        Metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/debug/value_emitter.html" class="md-nav__link">
        Value emitter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_15" >
      
      
      
        <label class="md-nav__link" for="__nav_13_15" id="__nav_13_15_label" tabindex="0">
          Flow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_15">
          <span class="md-nav__icon md-icon"></span>
          Flow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/collect_fields.html" class="md-nav__link">
        Collect fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/collect_unique.html" class="md-nav__link">
        Collect unique
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/combine.html" class="md-nav__link">
        Combine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/group_by.html" class="md-nav__link">
        Group by
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/group_union.html" class="md-nav__link">
        Group union
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/join.html" class="md-nav__link">
        Join
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flow/union.html" class="md-nav__link">
        Union
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_16" >
      
      
      
        <label class="md-nav__link" for="__nav_13_16" id="__nav_13_16_label" tabindex="0">
          Flowdata
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_16">
          <span class="md-nav__icon md-icon"></span>
          Flowdata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/batch.html" class="md-nav__link">
        Batch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/default.html" class="md-nav__link">
        Default
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/delete.html" class="md-nav__link">
        Delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/keep.html" class="md-nav__link">
        Keep
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/rename.html" class="md-nav__link">
        Rename
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/set.html" class="md-nav__link">
        Set
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/flowdata/unbatch.html" class="md-nav__link">
        Unbatch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_17" >
      
      
      
        <label class="md-nav__link" for="__nav_13_17" id="__nav_13_17_label" tabindex="0">
          Http
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_17_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_17">
          <span class="md-nav__icon md-icon"></span>
          Http
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/http/http_get.html" class="md-nav__link">
        Http get
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/http/http_listen.html" class="md-nav__link">
        Http listen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/http/http_post.html" class="md-nav__link">
        Http post
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_18" >
      
      
      
        <label class="md-nav__link" for="__nav_13_18" id="__nav_13_18_label" tabindex="0">
          Logic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_18_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_18">
          <span class="md-nav__icon md-icon"></span>
          Logic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/case.html" class="md-nav__link">
        Case
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/change_detect.html" class="md-nav__link">
        Change detect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/deadman.html" class="md-nav__link">
        Deadman
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/eval.html" class="md-nav__link">
        Eval
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/if.html" class="md-nav__link">
        If
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/sample.html" class="md-nav__link">
        Sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/shift.html" class="md-nav__link">
        Shift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/state_change.html" class="md-nav__link">
        State change
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/state_count.html" class="md-nav__link">
        State count
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/state_duration.html" class="md-nav__link">
        State duration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/state_sequence.html" class="md-nav__link">
        State sequence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/time_diff.html" class="md-nav__link">
        Time diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/time_elapsed.html" class="md-nav__link">
        Time elapsed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/triggered_timeout.html" class="md-nav__link">
        Triggered timeout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/value_diff.html" class="md-nav__link">
        Value diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/logic/where.html" class="md-nav__link">
        Where
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_19" >
      
      
      
        <label class="md-nav__link" for="__nav_13_19" id="__nav_13_19_label" tabindex="0">
          Messaging
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_19_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_19">
          <span class="md-nav__icon md-icon"></span>
          Messaging
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/messaging/amqp_consume.html" class="md-nav__link">
        Amqp consume
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/messaging/amqp_publish.html" class="md-nav__link">
        Amqp publish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/messaging/mqtt_amqp_bridge.html" class="md-nav__link">
        Mqtt amqp bridge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/messaging/mqtt_publish.html" class="md-nav__link">
        Mqtt publish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/messaging/mqtt_subscribe.html" class="md-nav__link">
        Mqtt subscribe
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_20" >
      
      
      
        <label class="md-nav__link" for="__nav_13_20" id="__nav_13_20_label" tabindex="0">
          Statistics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_20_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_20">
          <span class="md-nav__icon md-icon"></span>
          Statistics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/avg.html" class="md-nav__link">
        Avg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/bottom.html" class="md-nav__link">
        Bottom
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/count.html" class="md-nav__link">
        Count
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/count_change.html" class="md-nav__link">
        Count change
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/count_distinct.html" class="md-nav__link">
        Count distinct
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/distinct.html" class="md-nav__link">
        Distinct
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/elapsed.html" class="md-nav__link">
        Elapsed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/first.html" class="md-nav__link">
        First
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/geometric_mean.html" class="md-nav__link">
        Geometric mean
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/kurtosis.html" class="md-nav__link">
        Kurtosis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/last.html" class="md-nav__link">
        Last
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/max.html" class="md-nav__link">
        Max
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/mean.html" class="md-nav__link">
        Mean
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/median.html" class="md-nav__link">
        Median
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/min.html" class="md-nav__link">
        Min
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/percentile.html" class="md-nav__link">
        Percentile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/stddev.html" class="md-nav__link">
        Stddev
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/sum.html" class="md-nav__link">
        Sum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/top.html" class="md-nav__link">
        Top
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/statistics/variance.html" class="md-nav__link">
        Variance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13_21" >
      
      
      
        <label class="md-nav__link" for="__nav_13_21" id="__nav_13_21_label" tabindex="0">
          Window
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_13_21_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13_21">
          <span class="md-nav__icon md-icon"></span>
          Window
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/window/win_clock.html" class="md-nav__link">
        Win clock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/window/win_event.html" class="md-nav__link">
        Win event
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/window/win_session.html" class="md-nav__link">
        Win session
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodes/window/win_time.html" class="md-nav__link">
        Win time
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dfs-definitions" class="md-nav__link">
    DFS Definitions
  </a>
  
    <nav class="md-nav" aria-label="DFS Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keywords" class="md-nav__link">
    Keywords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaining-operators" class="md-nav__link">
    Chaining operators
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-and-literals" class="md-nav__link">
    Variables and literals
  </a>
  
    <nav class="md-nav" aria-label="Variables and literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-declarations" class="md-nav__link">
    Variable declarations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datatypes" class="md-nav__link">
    Datatypes
  </a>
  
    <nav class="md-nav" aria-label="Datatypes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json-strings" class="md-nav__link">
    Json strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-literals" class="md-nav__link">
    Duration literals
  </a>
  
    <nav class="md-nav" aria-label="Duration literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-templates" class="md-nav__link">
    Text templates
  </a>
  
    <nav class="md-nav" aria-label="Text templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-examples" class="md-nav__link">
    More examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="introducing-the-dfs-script-language">Introducing the DFS Script Language</h1>
<p>Faxe  uses a Domain Specific Language(DSL) named <strong>dfs</strong> (Dataflow Scripting Language) to define dataflow tasks 
involving the extraction, collection, transformation and loading and writing of data and involving, moreover, 
the tracking of arbitrary changes and the detection of events within data. </p>
<p>Dfs is heavily influenced by InfluxData's <a href="https://docs.influxdata.com/kapacitor/v1.5/tick/introduction/">TICKScript</a>.</p>
<p>Dfs is used in .dfs files or via API to define pipelines and graphs for processing data. 
The Dfs language is designed to chain together the invocation of data processing operations defined in nodes.</p>
<p>At the heart of its's engine, faxe will run an acyclic graph of computing nodes. 
Every node runs in its own erlang process.</p>
<h2 id="dfs-definitions">DFS Definitions</h2>
<h3 id="keywords">Keywords</h3>
<table>
<thead>
<tr>
<th>Word</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>true</td>
<td>boolean true</td>
</tr>
<tr>
<td>false</td>
<td>boolean false</td>
</tr>
<tr>
<td>TRUE</td>
<td>boolean true</td>
</tr>
<tr>
<td>FALSE</td>
<td>boolean false</td>
</tr>
<tr>
<td>lambda:</td>
<td>used to denote <a href="lambda_expressions.html">lambda expression</a></td>
</tr>
<tr>
<td>e:</td>
<td>used to denote <a href="script_expressions.html">script expressions</a></td>
</tr>
<tr>
<td>def</td>
<td>starts a variable declaration</td>
</tr>
</tbody>
</table>
<h3 id="operators">Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>addition operator</td>
</tr>
<tr>
<td>-</td>
<td>substraction operator</td>
</tr>
<tr>
<td>/</td>
<td>division operator</td>
</tr>
<tr>
<td>*</td>
<td>multiplication operator</td>
</tr>
<tr>
<td>AND</td>
<td>and</td>
</tr>
<tr>
<td>OR</td>
<td>or</td>
</tr>
<tr>
<td>&lt;</td>
<td>less than</td>
</tr>
<tr>
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr>
<td>=&lt;</td>
<td>less than or equal</td>
</tr>
<tr>
<td>&lt;=</td>
<td>less than or equal</td>
</tr>
<tr>
<td>=&gt;</td>
<td>greater or equal</td>
</tr>
<tr>
<td>&gt;=</td>
<td>greater or equal</td>
</tr>
<tr>
<td>==</td>
<td>equal</td>
</tr>
<tr>
<td>!=</td>
<td>Not equal</td>
</tr>
<tr>
<td>/=</td>
<td>Not equal</td>
</tr>
<tr>
<td>!</td>
<td>Logical Not</td>
</tr>
<tr>
<td>rem</td>
<td>remainder</td>
</tr>
<tr>
<td>div</td>
<td>integer division</td>
</tr>
</tbody>
</table>
<p>These operators are mainly used in Lambda expressions.</p>
<h3 id="chaining-operators">Chaining operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Usage</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>|</code></td>
<td>Used to declare a new node instance and chains it to the node above it (if any)</td>
<td><code>|some_node() |debug()</code></td>
</tr>
<tr>
<td><code>||</code></td>
<td>Used to reference a macro script</td>
<td><code>||some_macro().some_param(3)</code></td>
</tr>
<tr>
<td><code>.</code></td>
<td>Declares a property (or parameter) call, setting or changing an internal param in the node to which it belongs</td>
<td><code>|log() .file('log1.txt')</code></td>
</tr>
<tr>
<td><code>@</code></td>
<td>Declares a <a href="../custom_nodes.html">user defined node written in python</a>. Same as <code>|</code>, but for user defined nodes</td>
<td><code>|some_node() ... @mynode()</code></td>
</tr>
</tbody>
</table>
<h2 id="variables-and-literals">Variables and literals</h2>
<p>Variables are declared using the keyword <code>def</code> at the start of a declaration. 
Variables are immutable and cannot be reassigned new values later on in the script, 
though they can be used in other declarations and can be passed into functions, property calls and text-templates.</p>
<h3 id="variable-declarations">Variable declarations</h3>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code>    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">string</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;this is a string !&#39;</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">text</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39; this is a text with some weird chars :// %&amp; &#39;</span>
    <span style="color: #75715e">%% escape single quotes in strings with a second single quote:</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">string_with_single</span> <span style="color: #a6e22e">quotes</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;my string has &#39;&#39;single quotes&#39;&#39; in it&#39;</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">func</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">lambda</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;value&quot;</span> <span style="color: #f92672">/</span> <span style="color: #ae81ff">3</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">expr</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">e</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">str_replace</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">string</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39; &#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;_&#39;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">meas</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4.44</span>
    <span style="color: #75715e">% A lambda expression as literal</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">func2</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">lambda</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">int</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">meas</span> <span style="color: #f92672">/</span> <span style="color: #ae81ff">13</span><span style="color: #f8f8f2">)</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">an_int</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">32342</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">a_float</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2131.342</span>

    <span style="color: #75715e">% a chain can also be bound to a declaration</span>
    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">in1</span> <span style="color: #f92672">=</span>
        <span style="color: #f92672">|</span><span style="color: #f8f8f2">mqtt_subscribe()</span>
        <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">host</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;127.0.0.1&#39;</span><span style="color: #f8f8f2">)</span>
        <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">topic</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;some/topic&#39;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #75715e">% it can then be used like so</span>
    <span style="color: #a6e22e">in1</span>
        <span style="color: #f92672">|</span><span style="color: #f8f8f2">debug()</span>
</code></pre></div>

<h3 id="datatypes">Datatypes</h3>
<p>DFS recognizes a view basic data types, the type of the literal will be interpreted from its declaration.</p>
<table>
<thead>
<tr>
<th>Type name</th>
<th>Description</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>String/text type. Single quotes are used for strings, strings can also be multiline.<br />To use single quotes in your string, simple use 2 single quotes (since 0.19.0)</td>
<td>'this_is_a_string' <br /> <em>since 0.19.0</em>: 'SELECT MEAN(obj[''current'']) FROM mytable'</td>
</tr>
<tr>
<td>integer</td>
<td>Integer type. Arbitrarily big ints are allowed</td>
<td>123456789987654321, 55</td>
</tr>
<tr>
<td>float</td>
<td>Floating point number. May be arbitrarily big</td>
<td>12.343422023, 5.6</td>
</tr>
<tr>
<td>double</td>
<td>Same as float</td>
<td>12.343422023, 5.6</td>
</tr>
<tr>
<td>duration</td>
<td>A duration literal. See section below.</td>
<td>34s, 500ms, 2d</td>
</tr>
<tr>
<td>lambda</td>
<td>A lambda expression. See <a href="lambda_expressions.html">extra section</a> in this documentation.</td>
<td>lambda: str_downcase('BIG')</td>
</tr>
<tr>
<td>list</td>
<td>A list of above simple types.</td>
<td>['a', 'b'] [1, 456,  4536]</td>
</tr>
</tbody>
</table>
<h4 id="json-strings">Json strings</h4>
<p>A bunch of faxe's <a href="built-in_functions.html#lists-and-maps-jsn">built-in lambda functions</a> and some nodes (<a href="../nodes/debug/json_emitter.html">json_emitter</a> for example) can directly work with json strings, in faxe, we
call them <code>jsn</code>.</p>
<h3 id="duration-literals">Duration literals</h3>
<p>Duration literals define a span of time. </p>
<p>A duration literal is comprised of two parts: an integer and a duration unit.
It is essentially an integer terminated by one or a pair of reserved characters, which represent a unit of time.</p>
<p>The following table presents the time units used in declaring duration types.</p>
<table>
<thead>
<tr>
<th>Unit</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>ms</td>
<td>millisecond</td>
</tr>
<tr>
<td>s</td>
<td>second</td>
</tr>
<tr>
<td>m</td>
<td>minute</td>
</tr>
<tr>
<td>h</td>
<td>hour</td>
</tr>
<tr>
<td>d</td>
<td>day</td>
</tr>
<tr>
<td>w</td>
<td>week</td>
</tr>
</tbody>
</table>
<p>Internally all time and duration related values are converted to milliseconds.</p>
<h4 id="examples">Examples</h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">span</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">10s</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">frequency</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">10m</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">short</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">50ms</span>

<span style="color: #f92672">|</span><span style="color: #f8f8f2">win_time()</span>
<span style="color: #f8f8f2">.</span><span style="color: #a6e22e">period</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">1h</span><span style="color: #f8f8f2">)</span>
<span style="color: #f8f8f2">.</span><span style="color: #a6e22e">every</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">30m</span><span style="color: #f8f8f2">)</span>
</code></pre></div>

<h2 id="text-templates">Text templates</h2>
<p>Embedding literal values in a string, using double curly braces:</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #f8f8f2">{{</span> <span style="color: #a6e22e">variable_name</span> <span style="color: #f8f8f2">}}</span>
</code></pre></div>

<h4 id="use">Use</h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">this_portion</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;it&#39;</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">text_template</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;Some string/text where {{this_portion}} will get replaced&#39;</span>
</code></pre></div>

<p>In the above example, after compilation of the dfs script the variable <code>text_template</code> will hold the following value:</p>
<p><code>Some string/text where it will get replaced</code></p>
<p>Text templates can be used in variable declarations like in the above example, 
they can be used in node-parameter and option-parameter calls.</p>
<p>When used in template scripts string/text templates can be very powerful.
The variable <code>this_portion</code> could be overwritten with a new value for every instantiation of a template script.</p>
<h4 id="more-examples">More examples</h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">an_integer</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">33</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">a_float</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">345.78</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">a_string</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;Embedding an integer: {{an_integer}} and a floating point number: {{a_float}}.&#39;</span>
<span style="color: #75715e">% results in: &#39;Embedding an integer: 33 and a floating point number: 345.78.&#39;</span>

<span style="color: #75715e">%% list:</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">fruits</span> <span style="color: #f92672">=</span>
<span style="color: #e6db74">&#39;[</span>
<span style="color: #e6db74">  {&quot;color&quot;:  &quot;orange&quot;, &quot;name&quot;: &quot;orange&quot;, &quot;peel&quot;: true}, </span>
<span style="color: #e6db74">  {&quot;color&quot;:  &quot;orange&quot;, &quot;name&quot;: &quot;mandarin&quot;, &quot;peel&quot;: true}, </span>
<span style="color: #e6db74">  {&quot;color&quot;:  &quot;orange&quot;, &quot;name&quot;: &quot;peach&quot;, &quot;peel&quot;: false},</span>
<span style="color: #e6db74">  {&quot;color&quot;:  &quot;orange&quot;, &quot;name&quot;: &quot;navel-orange&quot;, &quot;peel&quot;: true},</span>
<span style="color: #e6db74">  {&quot;color&quot;:  &quot;yellow&quot;, &quot;name&quot;: &quot;lemon&quot;, &quot;peel&quot;: true}</span>
<span style="color: #e6db74">]&#39;</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">selected_fruits</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">e</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">select</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;name&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">[{</span><span style="color: #e6db74">&#39;peel&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">}],</span> <span style="color: #a6e22e">fruits</span><span style="color: #f8f8f2">)</span>
<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">citric_fruits</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;citrus fruits are: {{selected_fruits}}.&#39;</span>
<span style="color: #75715e">% results in: &#39;citrus fruits are: orange,mandarin,navel-orange,lemon.&#39;</span>
</code></pre></div>

<p>There is another version of text-templating which uses a value inside the current data_point, that can be used with some nodes in faxe:</p>
<p>{% raw %}</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #f8f8f2">{{</span><span style="color: #e6db74">&quot;field_name&quot;</span><span style="color: #f8f8f2">}}</span>
</code></pre></div>

<hr />
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #f92672">|</span><span style="color: #f8f8f2">email()</span>
<span style="color: #f8f8f2">.</span><span style="color: #a6e22e">body</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;</span>
<span style="color: #e6db74">    No data since {{&quot;datetime&quot;}} on topic &#39;&#39;ttgw/energy&#39;&#39;, last value was {{&quot;val&quot;}}. </span>
<span style="color: #e6db74">    &#39;</span><span style="color: #f8f8f2">)</span>
</code></pre></div>

<blockquote>
<p>Note: We use double quotes to reference a field in the current data_item.</p>
</blockquote>
<p>Here the values for <code>datetime</code> and <code>val</code> will be taken from the current data_point in the email node.</p>
<p>If a field used in a text_template is not present in the current data_point, the string 'undefined' will be used.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>